<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title>SysPetJA - Pesquisar Clientes</title>
	</h:head>
	
	<h:body>
		
		<h:form>
		<p:layoutUnit position="top" >
            <p:menubar>  
                 <p:menuitem value="Início" url="" icon="ui-icon-home" />  
                    <p:submenu label="Cliente" >
                        <p:menuitem value="Pesquisar" url="/faces/pagPesquisarCliente.xhtml"/>
                        <p:menuitem value="Cadastrar" url="/faces/pagManterCliente.xhtml"/>
                    </p:submenu>
                    <p:submenu label="Funcionario" >
                        <p:menuitem value="Pesquisar" url="/faces/pagPesquisarFuncionario.xhtml"/>
                        <p:menuitem value="Cadastrar" url="/faces/pagManterFuncionario.xhtml"/>
                    </p:submenu>
                    <p:submenu label="Agendamento" >
                    	<p:menuitem value="Confirmar agendas"/>
                        <p:menuitem value="Pesquisar" />
                        <p:menuitem value="Cadastrar" url="/faces/newAgendamento.xhtml"/>
                    </p:submenu>
                    <p:submenu label="Servico" >
                        <p:menuitem value="Pesquisar" url="/faces/pagPesquisarServico.xhtml"/>
                        <p:menuitem value="Cadastrar" url="/faces/pagManterServico.xhtml"/>
                    </p:submenu>
                    <p:menuitem value="Visão cliente" url="/faces/pagCadastroCliente.xhtml"  />
                </p:menubar>
            </p:layoutUnit>
            </h:form>
        
       <p:panel header="Clientes" toggleable="true" toggleTitle="Minimizar/Maximizar">
	
        <p:dataTable value="#{clienteMB.clienteList}" emptyMessage="Nenhum cliente"
                     paginatorTemplate="{PreviousPageLink} {CurrentPageReport}
                     {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                     paginator="true" rows="5" rowsPerPageTemplate="5,10,20"
                     var="cliente" id="tabClientes">
            <f:facet name="header">  
                <h:outputText value="Relação cliente" /> 
            </f:facet>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Cliente"/> 
                </f:facet>
                <h:form>
                    <center>
                        <p:commandLink ajax="false" value="#{cliente.nome}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="CPF"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.CPF}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Rua"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.endereco.rua}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Numero"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.endereco.numero}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Bairro"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.endereco.bairro}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Cidade"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.endereco.cidade}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Estado"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{cliente.endereco.UF}" action="#{clienteMB.carregar1(cliente)}"/>
                    </center>
                    
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Excluir"/> 
                </f:facet>
                <h:form>
                    <p:commandButton ajax="false" image="ui-icon-trash" action="#{clienteMB.excluir(cliente.id, cliente.endereco.id)}"/>
                </h:form>
            </p:column>
        </p:dataTable>
        
        </p:panel>
        
        
        <hr></hr>
        
    </h:body>
    
    </html>