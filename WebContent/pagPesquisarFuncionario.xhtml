<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

	<h:head>
		<title>SysPetJA - Pesquisar Funcionario</title>
	</h:head>
	
	<h:body>
		<h:form>
		  <p:layoutUnit position="top" >
            <p:menubar>  
                 <p:menuitem value="Início" icon="ui-icon-home" />  
                    <p:submenu label="Cliente" >
                        <p:menuitem value="Pesquisar" url="/faces/pagPesquisarCliente.xhtml"/>
                        <p:menuitem value="Cadastrar" url="/faces/pagManterCliente.xhtml"/>
                    </p:submenu>
                    <p:submenu label="Funcionario" >
                        <p:menuitem value="Pesquisar" url="/faces/pagPesquisarFuncionario.xhtml"/>
                        <p:menuitem value="Cadastrar" url="/faces/pagManterFuncionario.xhtml"/>
                    </p:submenu>
                    <p:submenu label="Agendamento" >
                    	<p:menuitem value="Confirmar agendas"/>
                        <p:menuitem value="Pesquisar" />
                        <p:menuitem value="Cadastrar" />
                    </p:submenu>
                    <p:submenu label="Gerente" >
                        <p:menuitem value="Conta" />
                        <p:menuitem value="Sair" />
                    </p:submenu>
                </p:menubar>
            </p:layoutUnit>
        </h:form>
        
       <p:panel header="Funcionarios" toggleable="true" toggleTitle="Minimizar/Maximizar">
	
        <p:dataTable value="#{funcionarioMB.funcionarios}" emptyMessage="Nenhum funcionario"
                     paginatorTemplate="{PreviousPageLink} {CurrentPageReport}
                     {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                     paginator="true" rows="5" rowsPerPageTemplate="5,10,20"
                     var="funcionario" id="tabFuncionarios">
            <f:facet name="header">  
                <h:outputText value="Relação funcionario" /> 
            </f:facet>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Funcionario"/> 
                </f:facet>
                <h:form>
                    <center>
                        <p:commandLink ajax="false" value="#{funcionario.nome}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="CPF"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.CPF}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Rua"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.endereco.rua}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Numero"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.endereco.numero}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Bairro"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.endereco.bairro}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Cidade"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.endereco.cidade}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>
            
            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Estado"/> 
                </f:facet>
                <h:form>
                    <center>
                       <p:commandLink ajax="false" value="#{funcionario.endereco.UF}" action="#{funcionarioMB.carregar(funcionario)}"/>
                    </center>
                    
                </h:form>
            </p:column>

            <p:column>
                <f:facet name="header">  
                    <h:outputText value="Excluir"/> 
                </f:facet>
                <h:form>
                    <p:commandButton ajax="false" image="ui-icon-trash" action="#{funcionarioMB.excluir(funcionario.id, funcionario.endereco.id)}"/>
                </h:form>
            </p:column>
        </p:dataTable>
        
        </p:panel>
        
    </h:body>
    
    </html>